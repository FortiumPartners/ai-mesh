# OpenTelemetry Configuration for SignOz Integration
# Task 1.1.3: Development Tooling - Environment Variables

# Service identification
OTEL_SERVICE_NAME=fortium-monitoring-service
OTEL_SERVICE_VERSION=1.0.0
OTEL_SERVICE_NAMESPACE=fortium

# OTLP Exporter Configuration
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4318/v1/traces
OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=http://localhost:4318/v1/metrics
OTEL_EXPORTER_OTLP_HEADERS=

# Alternative GRPC endpoints (if needed)
OTEL_EXPORTER_OTLP_GRPC_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_OTLP_TRACES_GRPC_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_OTLP_METRICS_GRPC_ENDPOINT=http://localhost:4317

# Resource attributes
OTEL_RESOURCE_ATTRIBUTES=service.name=fortium-monitoring-service,service.version=1.0.0,deployment.environment=development

# Sampling configuration
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=1.0
SAMPLING_RATE=1.0

# Batch processing configuration
OTEL_BSP_SCHEDULE_DELAY=500
OTEL_BSP_MAX_QUEUE_SIZE=2048
OTEL_BSP_MAX_EXPORT_BATCH_SIZE=512
OTEL_BSP_EXPORT_TIMEOUT=30000

# Metrics configuration
OTEL_METRIC_EXPORT_INTERVAL=30000
OTEL_METRIC_EXPORT_TIMEOUT=10000

# Prometheus configuration
ENABLE_PROMETHEUS=true
PROMETHEUS_METRICS_PORT=9464
PROMETHEUS_METRICS_PATH=/metrics

# Propagators configuration
OTEL_PROPAGATORS=tracecontext,baggage,b3,jaeger

# SDK configuration
OTEL_SDK_DISABLED=false
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=otlp,prometheus
OTEL_LOGS_EXPORTER=none

# Instrumentation configuration
OTEL_NODE_ENABLED_INSTRUMENTATIONS=@opentelemetry/instrumentation-http,@opentelemetry/instrumentation-express,@opentelemetry/instrumentation-pg,@opentelemetry/instrumentation-redis-4,@opentelemetry/instrumentation-winston
OTEL_NODE_DISABLED_INSTRUMENTATIONS=@opentelemetry/instrumentation-fs,@opentelemetry/instrumentation-dns

# Performance and debugging
LOG_LEVEL=info
OTEL_LOG_LEVEL=info
DEBUG_OTEL=false

# Development vs Production settings
NODE_ENV=development
DEPLOYMENT_TYPE=docker-compose

# Custom application metrics
ENABLE_CUSTOM_METRICS=true
CUSTOM_METRICS_INTERVAL=15000

# Health check configuration
HEALTH_CHECK_INTERVAL=30000
ENABLE_HEALTH_METRICS=true

# OpenTelemetry Feature Flags (Task 2.2: Auto-instrumentation Implementation)
# Core instrumentation controls
OTEL_ENABLE_AUTO_INSTRUMENTATION=true
OTEL_ENABLE_EXPRESS=true
OTEL_ENABLE_HTTP=true
OTEL_ENABLE_DATABASE=true
OTEL_ENABLE_REDIS=true
OTEL_ENABLE_LOGGING=true

# Performance monitoring controls
OTEL_ENABLE_PERFORMANCE_MONITORING=true
OTEL_ENABLE_PERFORMANCE_METRICS=true
OTEL_ENABLE_LATENCY_TRACKING=true
OTEL_ENABLE_MEMORY_TRACKING=false

# Feature-specific controls
OTEL_ENABLE_CUSTOM_SPANS=true
OTEL_ENABLE_CUSTOM_METRICS=true

# Debug and validation controls
OTEL_ENABLE_VALIDATION_ENDPOINTS=true
OTEL_ENABLE_DEBUG_LOGGING=false
OTEL_ENABLE_VERBOSE_SPANS=false

# Security and filtering controls
OTEL_ENABLE_QUERY_PARAMS=false
OTEL_ENABLE_RESPONSE_HEADERS=true